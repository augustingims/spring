<header th:fragment="header">

 <nav class="navbar navbar-inverse">
  <div class="container-fluid">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#myNavbar">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" data-th-href="@{/}">Thymeleaf Security</a>
    </div>
    <div class="collapse navbar-collapse" id="myNavbar">
      <ul class="nav navbar-nav">
        <li th:classappend="${#request.getRequestURI() == '/' ? 'active' : ''}"><a data-th-href="@{/}">Home</a></li>
        <li th:classappend="${#request.getRequestURI() == '/profile' ? 'active' : ''}" sec:authorize="isAuthenticated()"><a data-th-href="@{/profile}">Profile</a></li>
        <li th:classappend="${#request.getRequestURI() == '/users' ? 'active' : ''}" sec:authorize="hasRole('ROLE_ADMIN')"><a data-th-href="@{/users}">Users</a></li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li th:classappend="${#request.getRequestURI() == '/register' ? 'active' : ''}" sec:authorize="!isAuthenticated()"><a data-th-href="@{/register}"><span class="glyphicon glyphicon-user"></span> Register</a></li>
        <li th:classappend="${#request.getRequestURI() == '/login' ? 'active' : ''}" sec:authorize="!isAuthenticated()"><a data-th-href="@{/login}"><span class="glyphicon glyphicon-log-in"></span> Log in</a></li>
        <li sec:authorize="isAuthenticated()">
	        <form th:action="@{/logout}" method="post"  sec:authorize="isAuthenticated()">
		      <input class="form-control" type="hidden" /> 
		      <button type="submit">
			      <span class="glyphicon glyphicon-log-in"></span>
			      Logout
		      </button>
		    </form>
        </li>
      </ul>
    </div>
  </div>
</nav> 

</header>